
#include "StdAfx.h"

void Msg_L_Br(){ 
	MessageBoxA(NULL, "CRC-Scan\n\nO arquivo [Launcher.exe] foi alterado ou corrompido!\n", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
} 
void Msg_L_En(){ 
	MessageBoxA(NULL, "CRC-Scan\n\n[Launcher.exe] Corrupted or missing file!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING); 
ExitProcess(0);
} 

void Msg_P_Br(){
	MessageBoxA(NULL, "CRC-Scan\n\nO arquivo [Player.bmp] foi alterado ou corrompido!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING); 
ExitProcess(0);
}

void Msg_P_En(){
	MessageBoxA(NULL, "CRC-Scan\n\n[system.mrs] Corrupted or missing file!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING); 
ExitProcess(0);
}

void Msg_Pro_BMD_Br(){
	MessageBoxA(NULL, "CRC-Scan\n\nO arquivo [Protect.bmd] foi alterado ou corrompido!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_Pro_BMD_En(){
	MessageBoxA(NULL, "CRC-Scan\n\n[Protect.bmd] Corrupted or missing file!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_Pro_EXE_Br(){
	MessageBoxA(NULL, "CRC-Scan\n\nO arquivo [GameGuard.exe] foi alterado ou corrompido!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_Pro_EXE_En(){
	MessageBoxA(NULL, "CRC-Scan\n\n[GameGuard.exe] Corrupted or missing file!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_Pro_StartUp_Br(){
	MessageBoxA(NULL, "CRC-Scan\n\nO arquivo [StartUp.exe] foi alterado ou corrompido!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_Pro_StartUp_En(){
	MessageBoxA(NULL, "CRC-Scan\n\n[StartUp.exe] Corrupted or missing file!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_Pro_EXEs_Br(){
	MessageBoxA(NULL, "CRC-Scan\n\nO arquivo [Startup.exe] foi alterado ou corrompido!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_Pro_EXEs_En(){
	MessageBoxA(NULL, "CRC-Scan\n\n[Startup.exe] Corrupted or missing file!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_Pro_ddll_Br(){
	MessageBoxA(NULL, "CRC-Scan\n\nO arquivo [c.dll] foi alterado ou corrompido!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_Pro_ddll_En(){
	MessageBoxA(NULL, "CRC-Scan\n\n[c.dll] Corrupted or missing file!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_Pro_cfg_Br(){
	MessageBoxA(NULL, "CRC-Scan\n\nO arquivo [Config] foi alterado ou corrompido!\n\nUm novo arquivo vai ser criado!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_Pro_cfg_En(){
	MessageBoxA(NULL, "CRC-Scan\n\n[Config] Corrupted or missing file!\n\nA new file will be created!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_Logo_Br(){
	MessageBoxA(NULL, "CRC-Scan\n\nO arquivo [Webzenlogo.OZJ] foi alterado ou corrompido!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_Logo_En(){
	MessageBoxA(NULL, "CRC-Scan\n\n[Gunz.exe] is old or Corrupted or missing file!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_T1_Br(){
	MessageBoxA(NULL, "CRC-Scan\n\nO arquivo [EncTerrain1.att] foi alterado ou corrompido!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_T1_En(){
	MessageBoxA(NULL, "CRC-Scan\n\n[EncTerrain1.att] Corrupted or missing file!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_T2_Br(){
	MessageBoxA(NULL, "CRC-Scan\n\nO arquivo [EncTerrain2.att] foi alterado ou corrompido!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}
void Msg_T2_En(){
	MessageBoxA(NULL, "CRC-Scan\n\n[EncTerrain2.att] Corrupted or missing file!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_T3_Br(){
	MessageBoxA(NULL, "CRC-Scan\n\nO arquivo [EncTerrain3.att] foi alterado ou corrompido!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_T3_En(){
	MessageBoxA(NULL, "CRC-Scan\n\n[EncTerrain3.att] Corrupted or missing file!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_T4_Br(){
	MessageBoxA(NULL, "CRC-Scan\n\nO arquivo [EncTerrain4.att] foi alterado ou corrompido!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_T4_En(){
	MessageBoxA(NULL, "CRC-Scan\n\n[EncTerrain4.att] Corrupted or missing file!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_T5_Br(){
	MessageBoxA(NULL, "CRC-Scan\n\nO arquivo [EncTerrain5.att] foi alterado ou corrompido!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_T5_En(){
	MessageBoxA(NULL, "CRC-Scan\n\n[EncTerrain5.att] Corrupted or missing file!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_T6_Br(){
	MessageBoxA(NULL, "CRC-Scan\n\nO arquivo [EncTerrain6.att] foi alterado ou corrompido!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_T6_En(){
	MessageBoxA(NULL, "CRC-Scan\n\n[EncTerrain6.att] Corrupted or missing file!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_T7_Br(){
	MessageBoxA(NULL, "CRC-Scan\n\nO arquivo [EncTerrain7.att] foi alterado ou corrompido!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

void Msg_T7_En(){
	MessageBoxA(NULL, "CRC-Scan\n\n[EncTerrain7.att] Corrupted or missing file!", phathien.Ten_Cua_So, MB_SERVICE_NOTIFICATION | MB_ICONWARNING);
ExitProcess(0);
}

////////////////////////////////////////////////

CheckSum Check;
void CheckSum::AllFiles(){
Check.Initialize();

	if( phathien.CRC_Launcher == 1) 
	{
	long Arquivo1 = Check.FileCRC (phathien.Ten_Launcher);
	if(Arquivo1 != phathien.CRC_LauncherEXE)
	{
    if (phathien.Log_Txt_Hack == 1){	
	ofstream out("Xtrap/Log.txt", ios::app);
    out << "\nX-TRAP:   ", out <<  phathien.Ten_Launcher;
	out.close();
}
    if (phathien.Message_Warning_En == 1 || phathien.Message_Warning_En == 3 || phathien.Message_Warning_En == 4){
    CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_L_En),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);	
}
	if (phathien.Message_Warning_En == 2){
	CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_L_Br),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);
}
	if (phathien.Message_Warning_En == 0){
	ExitProcess(0);	
}
	else
	ExitProcess(0);
}
}

////////////////////////////////////////////////
	if(phathien.CRC_System == 1){
	long Player = Check.FileCRC("system.mrs");
	if(Player != phathien.CRC_SystemMRS)		{
	if (phathien.Log_Txt_Hack == 1){	
	ofstream out("Xtrap/Log.txt", ios::app);
    out << "\nX-TRAP:   ", out <<   "system.mrs";
	out.close();
}
    if (phathien.Message_Warning_En == 1 || phathien.Message_Warning_En == 3 || phathien.Message_Warning_En == 4){
    CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_P_En),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);	
}
	if (phathien.Message_Warning_En == 2){
	CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_P_Br),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);
}
	if (phathien.Message_Warning_En == 0){
	ExitProcess(0);	
}
	else
	ExitProcess(0);
}
	}

////////////////////////////////////////////////
	if(phathien.CRC_ProtectBMP == 1){
	long Image = Check.FileCRC("Xtrap/Protect.bmp");
	if(Image != phathien.CRC_Protect){
	if (phathien.Log_Txt_Hack == 1){	
    ofstream out("Xtrap/Log.txt", ios::app);
    out << "\nX-TRAP:   ", out <<   "Xtrap/Protect.bmp";
	out.close();
}
    if (phathien.Message_Warning_En == 1 || phathien.Message_Warning_En == 3 || phathien.Message_Warning_En == 4){
    CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_Pro_BMD_En),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);	
}
	if (phathien.Message_Warning_En == 2){
	CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_Pro_BMD_Br),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);		
}
	if (phathien.Message_Warning_En == 0){
	ExitProcess(0);	
}
	else
	ExitProcess(0);
}
	}

////////////////////////////////////////////////
	if (phathien.CRC_Codex == 1) {
		long Codex = Check.FileCRC("Codex.dll");
		if (Codex != phathien.CRC_CodexDLL) {
			if (phathien.Log_Txt_Hack == 1) {
				ofstream out("Xtrap/Log.txt", ios::app);
				out << "\nX-TRAP:   ", out << "Check CRC fail";
				out.close();
			}
			if (phathien.Message_Warning_En == 1 || phathien.Message_Warning_En == 3 || phathien.Message_Warning_En == 4) {
				CreateThread(NULL, NULL, LPTHREAD_START_ROUTINE(Msg_P_En), NULL, 0, 0);
				Sleep(3000);
				ExitProcess(0);
			}
			if (phathien.Message_Warning_En == 2) {
				CreateThread(NULL, NULL, LPTHREAD_START_ROUTINE(Msg_P_Br), NULL, 0, 0);
				Sleep(3000);
				ExitProcess(0);
			}
			if (phathien.Message_Warning_En == 0) {
				ExitProcess(0);
			}
			else
				ExitProcess(0);
		}
	}

////////////////////////////////////////////////
	if(phathien.CRC_GameGuard == 1){
	long Exe = Check.FileCRC(phathien.GameGuard_Value);
	if(Exe != phathien.CRC_GameGuard_Value){
	if (phathien.Log_Txt_Hack == 1){	
    ofstream out("Xtrap/Log.txt", ios::app);
    out << "\nX-TRAP:   ", out <<phathien.GameGuard_Value;
	out.close();
}
    if (phathien.Message_Warning_En == 1 || phathien.Message_Warning_En == 3 || phathien.Message_Warning_En == 4){
    CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_Pro_EXE_En),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);	
}
	if (phathien.Message_Warning_En == 2){
	CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_Pro_EXE_Br),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);		
}
	if (phathien.Message_Warning_En == 0){
	ExitProcess(0);	
}
	else
	ExitProcess(0);
}
	}

////////////////////////////////////////////////
	
	if(phathien.CRC_Inject_dll== 1){
	long DefDll = Check.FileCRC(phathien.Inject_Dll_Value);
	if(DefDll != phathien.CRC_Inject_dll_Value){
	if (phathien.Log_Txt_Hack == 1){	
    ofstream out("Xtrap/Log.txt", ios::app);
    out << "\nX-TRAP:   ", out <<phathien.Inject_Dll_Value;
	out.close();
}
    if (phathien.Message_Warning_En == 1 || phathien.Message_Warning_En == 3 || phathien.Message_Warning_En == 4){
    CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_Pro_ddll_En),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);	
}
	if (phathien.Message_Warning_En == 2){
	CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_Pro_ddll_Br),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);		
}
	if (phathien.Message_Warning_En == 0){
	ExitProcess(0);	
}
	else
	ExitProcess(0);
}
}

	////////////////////////////////////////////////
	if(phathien.CRC_StartUp == 1){
	long StartUp = Check.FileCRC(phathien.StartUp_Original_Name);
	if(StartUp != phathien.CRC_StartUp_Value){
	if (phathien.Log_Txt_Hack == 1){	
    ofstream out("Xtrap/Log.txt", ios::app);
    out << "\nX-TRAP:   ", out <<phathien.StartUp_Original_Name;
	out.close();
}
    if (phathien.Message_Warning_En == 1 || phathien.Message_Warning_En == 3 || phathien.Message_Warning_En == 4){
    CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_Pro_StartUp_En),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);	
}
	if (phathien.Message_Warning_En == 2){
	CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_Pro_StartUp_Br),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);		
}
	if (phathien.Message_Warning_En == 0){
	ExitProcess(0);	
}
	else
	ExitProcess(0);
}
}
	
////////////////////////////////////////////////		
	if(phathien.CRC_Gunz == 1){
	long Image2 = Check.FileCRC("Gunz.exe");
	if(Image2 != phathien.CRC_GunzEXE){
	if (phathien.Log_Txt_Hack == 1){	
    ofstream out("Xtrap/Log.txt", ios::app);
    out << "\nX-TRAP:   ", out <<   "Gunz.exe is old";
	out.close();
}
    if (phathien.Message_Warning_En == 1 || phathien.Message_Warning_En == 3 || phathien.Message_Warning_En == 4){
    CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_Logo_En),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);	
}
	if (phathien.Message_Warning_En == 2){
	CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_Logo_Br),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);
}
	if (phathien.Message_Warning_En == 0){
	ExitProcess(0);	
}
	else
	ExitProcess(0);
}
}
	
////////////////////////////////////////////////
		if(phathien.CRC_Client_MRS == 1)
	    {
		long ter1 = Check.FileCRC("Interface.mrs");
		long ter2 = Check.FileCRC("Maps.mrs");
		long ter3 = Check.FileCRC("MapsChallenge.mrs");
		long ter4 = Check.FileCRC("model.mrs");
		long ter5 = Check.FileCRC("Quest.mrs");
		long ter6 = Check.FileCRC("sfx.mrs");
		long ter7 = Check.FileCRC("Sound.mrs");

////////////////////////////////////////////////
	if(ter1 != phathien.CRC_Interface){
	if (phathien.Log_Txt_Hack == 1){	
	using namespace std;
    ofstream out("Xtrap/Log.txt", ios::app);
    out << "\nX-TRAP:   ", out <<   "Interface.mrs";
	out.close();
}
    if (phathien.Message_Warning_En == 1 || phathien.Message_Warning_En == 3 || phathien.Message_Warning_En == 4){
    CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_T1_En),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);	
}
	if (phathien.Message_Warning_En == 2){ 
	CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_T1_Br),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);
}
	if (phathien.Message_Warning_En == 0){
	ExitProcess(0);	
}
	else
	ExitProcess(0);
}
	
	
////////////////////////////////////////////////
	if(ter2 != phathien.CRC_Maps){
	if (phathien.Log_Txt_Hack == 1){	
	ofstream out("Xtrap/Log.txt", ios::app);
    out << "\nX-TRAP:   ", out <<   "Maps.mrs";
	out.close();
}
    if (phathien.Message_Warning_En == 1 || phathien.Message_Warning_En == 3 || phathien.Message_Warning_En == 4){
    CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_T2_En),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);	
}
	if (phathien.Message_Warning_En == 2){
	CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_T2_Br),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);
}
	if (phathien.Message_Warning_En == 0){
	ExitProcess(0);	
}
	else
	ExitProcess(0);
}

////////////////////////////////////////////////
	if(ter3 != phathien.CRC_MapsChallenge){
	if (phathien.Log_Txt_Hack == 1){	
	ofstream out("Xtrap/Log.txt", ios::app);
    out << "\nX-TRAP:   ", out <<   "MapsChallenge.mrs";
	out.close();
}
	if (phathien.Message_Warning_En == 1 || phathien.Message_Warning_En == 3 || phathien.Message_Warning_En == 4){
    CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_T3_En),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);	
}
	if (phathien.Message_Warning_En == 2){
	CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_T3_Br),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);
	}
	if (phathien.Message_Warning_En == 0){
	ExitProcess(0);
	}
	else
	ExitProcess(0);
}
	
////////////////////////////////////////////////
	if(ter4 != phathien.CRC_model){
	if (phathien.Log_Txt_Hack == 1){	
    ofstream out("Xtrap/Log.txt", ios::app);
    out << "\nX-TRAP:   ", out <<   "model.mrs";
	out.close();
}
    if (phathien.Message_Warning_En == 1 || phathien.Message_Warning_En == 3 || phathien.Message_Warning_En == 4){
    CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_T4_En),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);	
}
	if (phathien.Message_Warning_En == 2){ 
	CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_T4_Br),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);
}
	if (phathien.Message_Warning_En == 0){
	ExitProcess(0);
}
	else
	ExitProcess(0);
}

////////////////////////////////////////////////
	if(ter5 != phathien.CRC_Quest){
	if (phathien.Log_Txt_Hack == 1){	
    ofstream out("Xtrap/Log.txt", ios::app);
    out << "\nX-TRAP:   ", out <<   "Quest.mrs";
	out.close();
}
    if (phathien.Message_Warning_En == 1 || phathien.Message_Warning_En == 3 || phathien.Message_Warning_En == 4){
    CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_T5_En),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);	
}
	if (phathien.Message_Warning_En == 2){
	CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_T5_Br),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);
}
	if (phathien.Message_Warning_En == 0){
	ExitProcess(0);
}
	else
	ExitProcess(0);
}
	
////////////////////////////////////////////////
	if(ter6 != phathien.CRC_sfx){
	if (phathien.Log_Txt_Hack == 1){	
    ofstream out("Xtrap/Log.txt", ios::app);
    out << "\nX-TRAP:   ", out <<   "sfx.mrs";
	out.close();
}
    if (phathien.Message_Warning_En == 1 || phathien.Message_Warning_En == 3 || phathien.Message_Warning_En == 4){
    CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_T6_En),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);	
}
	if (phathien.Message_Warning_En == 2){
	CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_T6_Br),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);
	}
	if (phathien.Message_Warning_En == 0){
	ExitProcess(0);
}
	else
	ExitProcess(0);
}

////////////////////////////////////////////////
	if(ter7 != phathien.CRC_Sound){
	if (phathien.Log_Txt_Hack == 1){	
	ofstream out("Xtrap/Log.txt", ios::app);
    out << "\nX-TRAP:   ", out <<   "Sound.mrs";
	out.close();
}
    if (phathien.Message_Warning_En == 1 || phathien.Message_Warning_En == 3 || phathien.Message_Warning_En == 4){
    CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_T7_En),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);	
}
	if (phathien.Message_Warning_En == 2){
	CreateThread(NULL,NULL,LPTHREAD_START_ROUTINE(Msg_T7_Br),NULL,0,0);
	Sleep(3000); 
	ExitProcess(0);
}
	if (phathien.Message_Warning_En == 0){
	ExitProcess(0);
}
	else
	ExitProcess(0);
}
	}
	}	
	
void MainThread(void * lpParam)
{	
	//while(true){	 // Check all files every 1 sec
	//Sleep (1000);  // Check all files every 1 sec
	Check.AllFiles();
	//_endthread();  // Check files just one time and exit thread
}